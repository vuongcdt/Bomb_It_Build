System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts"],(function(n){var o,e,i,l,t,u,a,r,s,c,p,b,d,h,y,B,f,g,S,m,M,P,_;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,l=n.assertThisInitialized},function(n){t=n.cclegacy,u=n._decorator,a=n.AudioSource,r=n.Component},function(n){s=n.eventTarget,c=n.PLAY_BOMB_EXPLOSION,p=n.PLAY_PLACE_BOMB,b=n.PLAY_PLACE_MINE,d=n.PLAY_MINE,h=n.PLAY_BRICK_BREAK,y=n.PLAY_COLLECTABLE,B=n.PLAY_HIT_COLLECTABLE,f=n.PLAY_BUBLE,g=n.TOGGLE_SOUND,S=n.TOGGLE_MUSIC,m=n.PLAY_BG_SOUND,M=n.STOP_BG_SOUND,P=n.PLAY_MENU_SOUND,_=n.STOP_MENU_SOUND}],execute:function(){var L,E,A,C,z,w,G,O,k,v,N,Y,T,U,D,H,x,I,R,F,K,X,j,Z,q,J,Q,V,W,$,nn;t._RF.push({},"ba9b0faFZpLgbzX2ol3zAtm","AudioManager",void 0);var on=u.ccclass,en=u.property;n("AudioManager",(L=on("AudioManager"),E=en(a),A=en(a),C=en(a),z=en(a),w=en(a),G=en(a),O=en(a),k=en(a),v=en(a),N=en(a),Y=en(a),T=en(a),U=en(a),D=en(a),L((I=o((x=function(n){function o(){for(var o,e=arguments.length,t=new Array(e),u=0;u<e;u++)t[u]=arguments[u];return o=n.call.apply(n,[this].concat(t))||this,i(o,"soundBombExplosion",I,l(o)),i(o,"soundPlaceBomb",R,l(o)),i(o,"soundPlaceMine",F,l(o)),i(o,"soundMine",K,l(o)),i(o,"soundBrickBreak",X,l(o)),i(o,"soundBGSound",j,l(o)),i(o,"soundCollectable",Z,l(o)),i(o,"soundHitCollectable",q,l(o)),i(o,"soundBuble",J,l(o)),i(o,"bgSound",Q,l(o)),i(o,"bgSound1",V,l(o)),i(o,"bgSound2",W,l(o)),i(o,"bgSound3",$,l(o)),i(o,"menuSound",nn,l(o)),o}e(o,n);var t=o.prototype;return t.onLoad=function(){s.on(c,this.playBombExplosion,this),s.on(p,this.playPlaceBomb,this),s.on(b,this.playPlaceMine,this),s.on(d,this.playMine,this),s.on(h,this.playBrickBreak,this),s.on(y,this.playCollectable,this),s.on(B,this.playHitCollectable,this),s.on(f,this.playBuble,this),s.on(g,this.toggleSound,this),s.on(S,this.toggleMusic,this),s.on(m,this.playBGSound,this),s.on(M,this.stopBGSound,this),s.on(P,this.playMenuSound,this),s.on(_,this.stopMenuSound,this)},t.toggleSound=function(n){[this.soundBombExplosion,this.soundPlaceBomb,this.soundPlaceMine,this.soundMine,this.soundBrickBreak,this.soundCollectable,this.soundHitCollectable,this.soundBuble].forEach((function(o){return o.volume=n?.5:0}))},t.toggleMusic=function(n){this.soundBGSound.volume=n?.5:0},t.playBombExplosion=function(){this.soundBombExplosion.play()},t.playPlaceBomb=function(){this.soundPlaceBomb.play()},t.playPlaceMine=function(){this.soundPlaceMine.play()},t.playMine=function(){this.soundMine.play()},t.playBrickBreak=function(){this.soundBrickBreak.play()},t.playCollectable=function(){this.soundCollectable.play()},t.playHitCollectable=function(){this.soundHitCollectable.play()},t.playBuble=function(){this.soundBuble.play()},t.playBGSound=function(){this.soundBGSound.play()},t.stopBGSound=function(){this.soundBGSound.stop()},t.playMenuSound=function(){this.menuSound.play()},t.stopMenuSound=function(){this.menuSound.stop()},o}(r)).prototype,"soundBombExplosion",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=o(x.prototype,"soundPlaceBomb",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=o(x.prototype,"soundPlaceMine",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=o(x.prototype,"soundMine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=o(x.prototype,"soundBrickBreak",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(x.prototype,"soundBGSound",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=o(x.prototype,"soundCollectable",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=o(x.prototype,"soundHitCollectable",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=o(x.prototype,"soundBuble",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=o(x.prototype,"bgSound",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=o(x.prototype,"bgSound1",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=o(x.prototype,"bgSound2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=o(x.prototype,"bgSound3",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=o(x.prototype,"menuSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=x))||H));t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Store.ts"],(function(n){var t,o,e,r,s;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator,r=n.Component},function(n){s=n.Store}],execute:function(){var c;o._RF.push({},"f8f7bRnJJ1MHpnDkH9nXbzT","BaseComponent",void 0);var a=e.ccclass;e.property,n("BaseComponent",a("BaseComponent")(c=function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this)._store=void 0,t}return t(o,n),o.prototype.onLoad=function(){this._store=s.getInstance()},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUIComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts"],(function(o){var n,t,e,c;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator},function(o){c=o.BaseComponent}],execute:function(){var s;t._RF.push({},"16184kI0sdCcKwCcJBzTkDJ","BaseUIComponent",void 0);var i=e.ccclass;e.property,o("BaseUIComponent",i("BaseUIComponent")(s=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.onLoad=function(){o.prototype.onLoad.call(this)},e.onShow=function(){this.node.active=!0},e.onHide=function(){this.node.active=!1},t}(c))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/BoardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cell.ts","./Enums.ts","./BaseComponent.ts","./Character.ts","./Events.ts","./Utils.ts","./DataResources.ts","./CheckFreeWay.ts"],(function(e){var t,i,r,s,n,o,a,l,c,h,u,_,p,m,f,b,d,y,g,v,T,w,E,S,C,D,L,W,B,A,N,M,k,P,x,I,z,O,R,G,F,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,c=e.Enum,h=e.Prefab,u=e.Node,_=e.Sprite,p=e.v3,m=e.Tween,f=e.randomRangeInt,b=e.UITransform,d=e.instantiate,y=e.Vec3,g=e.Label,v=e.Animation},function(e){T=e.Cell},function(e){w=e.MessageType,E=e.CollectableType,S=e.ObstacleType},function(e){C=e.BaseComponent},function(e){D=e.Character},function(e){L=e.eventTarget,W=e.CLEAR_TIME,B=e.CLEAR_TIME_BOMB,A=e.SHOW_MESSAGE,N=e.SHOW_CONGRATULATIONS,M=e.SHOW_GAMEOVER,k=e.SET_LEVEL,P=e.LOADING_DONE,x=e.PLAY_BG_SOUND,I=e.RESET_GAME,z=e.SET_DIE_ENEMIES_TOTAL,O=e.SET_CUURRENT_LEVEL,R=e.SUB_BRICK_WALL},function(e){G=e.WallPositions},function(e){F=e.DataResources},function(e){U=e.CheckFreeWay}],execute:function(){var H,V,j,K,q,Y,J,Q,X,Z,$,ee,te,ie,re;a._RF.push({},"9665c6IhyFGxqkAvPtuK9va","BoardManager",void 0);var se=l.ccclass,ne=l.property,oe=c({None:0,RowCol:2});e("BoardManager",(H=se("BoardManager"),V=ne({type:oe}),j=ne({type:h}),K=ne(u),q=ne(_),H((Q=t((J=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"explosionTimer",Q,s(t)),r(t,"cellNameType",X,s(t)),r(t,"cellPrefab",Z,s(t)),r(t,"columns",$,s(t)),r(t,"rows",ee,s(t)),r(t,"cellSize",te,s(t)),r(t,"centerBoard",ie,s(t)),r(t,"background",re,s(t)),t._heroes=[],t._board=[],t._collectableTypes=[],t._startPos=[p(3,27),p(31,27),p(31,3),p(3,3)],t._timeSpawnLife=void 0,t._timeSpawnMine=void 0,t._settingsData=void 0,t._currentEnemies=0,t._currentLevel=1,t._centerAnimation=void 0,t._brickWallTotal=0,t._totalScore=0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){var t=n(o().mark((function t(){var i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e.prototype.onLoad.call(this),L.on(I,this.reset,this),L.on(z,this.setDieEnemiesTotal,this),L.on(O,this.setCurrentLevel,this),L.on(R,this.subBrickWall,this),this._centerAnimation=this.centerBoard.getComponentInChildren(v),i=0;i<this.columns;i++)this._board[i]=[];return this._heroes=this.getComponentsInChildren(D),this._store.board=this._board,this._store.boardNode=this.node,this._store.rows=this.rows,this._store.columns=this.columns,this._store.cellSize=this.cellSize,this._store.explosionTimer=this.explosionTimer,this._store.indexBombInBoard=this.node.children.length,this._store.heroes=this._heroes,r=new F,t.next=19,r.getResources();case 19:this._store.mapData=t.sent,this.drawGrid(),L.emit(P),L.emit(x);case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.setDieEnemiesTotal=function(){var e=this;this._currentEnemies--,0==this._currentEnemies&&(L.emit(W),m.stopAll(),L.emit(B),L.emit(A,w.Win),this._totalScore+=this._heroes[0].score,setTimeout((function(){e._currentLevel==e._settingsData.levelsNumber?(L.emit(N,e._totalScore),e._currentLevel=1,e._totalScore=0):L.emit(M,!1,e._heroes[0].score)}),2e3))},a.subBrickWall=function(){this._brickWallTotal--,this._brickWallTotal==60+5*this._settingsData.difficultyNumber&&this._collectableTypes.push(E.Life),this._brickWallTotal==50-5*this._settingsData.difficultyNumber&&this._collectableTypes.push(E.Power),30==this._brickWallTotal&&this._collectableTypes.push(E.Mine)},a.setCurrentLevel=function(){this._currentLevel++,L.emit(k,this._currentLevel,this._settingsData.levelsNumber)},a.reset=function(e){e&&(this._settingsData=e),this._currentEnemies=this._settingsData.enemiesNumber,L.emit(k,this._currentLevel,this._settingsData.levelsNumber),m.stopAll(),clearTimeout(this._timeSpawnLife),clearTimeout(this._timeSpawnMine),this._store.collectablesPool.forEach((function(e){e.isDeleted=!0,e.node.parent=null})),this._store.mineMap.forEach((function(e){return e.isExploded=!0})),this._store.heroes=this._heroes,this._collectableTypes=Object.values(E).filter((function(e){return"number"==typeof e})).slice(0,3);var t=0;do{if(this.resetGrid(),this.renderDataBoard(),++t>10)break}while(!this.isFreeWay());this.resetHero(this._settingsData.enemiesNumber)},a.isFreeWay=function(){for(var e=[],t=3;t<this._store.rows/2;t++){for(var i=[],r=3;r<this._store.columns/2;r++)if(r%2!=0&&t%2!=0){var s=this._board[r][t].type==S.StoneWall;i.push(s)}t%2!=0&&e.push(i)}return new U(e).excute()},a.renderDataBoard=function(){var e=this,t=this._settingsData.arenaNumber>this._store.mapData.length-1?f(0,this._store.mapData.length-1):this._settingsData.arenaNumber;this._centerAnimation.stop();var i=this._centerAnimation.getComponent(b);i.width=185,i.height=194,i.node.position=p(0,0),0==t&&(this._centerAnimation.play(),i.width=250,i.height=250,i.node.position=p(0,25));var r=this._store.mapData[t].brickWall,s=this._store.mapData[t].stoneWall,n=this._store.mapData[t].centerBoard[0],o=this._store.mapData[t].background[0],a=this.randomWall();a.stonePositions.forEach((function(t){t.x>=e.columns/2-4&&t.x<=e.rows/2+4&&t.y>=e.rows/2-4&&t.y<=e.rows/2+4?e._board[t.x][t.y].setAvatarObstacle(S.StoneWall,null):e._board[t.x][t.y].setAvatarObstacle(S.StoneWall,s[f(0,s.length-1)])})),this._brickWallTotal=0,a.wayPositions.forEach((function(t){f(0,3)&&(e._brickWallTotal++,e._board[t.x][t.y].setAvatarObstacle(S.BrickWall,r[f(0,r.length-1)]))})),this.centerBoard.getComponentInChildren(_).spriteFrame=n,this.centerBoard.setSiblingIndex(-1),this.background.spriteFrame=o},a.randomWall=function(){for(var e=[],t=[],i=1;i<this.columns/2;i++)for(var r=1;r<this.rows/2;r++)1==r&&i%2==1||1==i&&r%2==1||i>=this.columns/2-3&&r>=this.rows/2-3?this.setPositions(e,i,r):(!(i+r>=6&&i+r<=10)||5==r&&5==i||13==r&&11==i)&&(i%4!=1||r%4!=1?!(i%4==3&&r%4==1||i%4==1&&r%4==3)?i%4==3&&r%4==3&&this.setPositions(t,i,r):f(0,3)?this.setPositions(t,i,r):this.setPositions(e,i,r):this.setPositions(e,i,r));return new G(e,t)},a.setPositions=function(e,t,i){e.push(p(t,i),p(t,this.rows-1-i),p(this.columns-1-t,i),p(this.columns-1-t,this.rows-1-i))},a.resetHero=function(e){var t=this;this._heroes.forEach((function(e){return e.node.parent=null})),setTimeout((function(){t._heroes.slice(0,e+1).forEach((function(e,i){e.init(0==i?3:1,t._startPos[i])}))}),0)},a.getTypeCollectable=function(){var e=this._collectableTypes[f(0,this._collectableTypes.length)];return e==E.Mine&&this._store.totalMineCollectable++,e==E.Life&&this._store.totalLifeCollectable++,e==E.Life&&8==this._store.totalMineCollectable&&(this._collectableTypes=this._collectableTypes.filter((function(e){return e!=E.Life}))),e==E.Mine&&5==this._store.totalMineCollectable&&(this._collectableTypes=this._collectableTypes.filter((function(e){return e!=E.Mine}))),e},a.drawGrid=function(){for(var e=0;e<this.columns;e++)for(var t=0;t<this.rows;t++){var i=d(this.cellPrefab),r=i.getComponent(T);i.position=new y((e-this.columns/2+.5)*this.cellSize,(t-this.rows/2+.5)*this.cellSize),i.parent=this.node,r.init(p(e,t)),this._board[e][t]=r;var s=i.getComponentsInChildren(g);this.cellNameType==oe.None?(s[0].node.active=!1,s[1].node.active=!1):(s[0].string=""+e,s[1].string=""+t)}},a.resetGrid=function(){for(var e=0;e<this.columns;e++)for(var t=0;t<this.rows;t++){this._board[e][t].setTypeWay()}},t}(C)).prototype,"explosionTimer",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),X=t(J.prototype,"cellNameType",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oe.None}}),Z=t(J.prototype,"cellPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(J.prototype,"columns",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 26}}),ee=t(J.prototype,"rows",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),te=t(J.prototype,"cellSize",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ie=t(J.prototype,"centerBoard",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(J.prototype,"background",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=J))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Bomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./Enums.ts","./CONSTANTS.ts","./Events.ts"],(function(o){var e,t,i,s,n,r,a,l,p,h,d,c,u,_,B,f,m,y;return{setters:[function(o){e=o.inheritsLoose,t=o.createForOfIteratorHelperLoose},function(o){i=o.cclegacy,s=o._decorator,n=o.Animation,r=o.UITransform,a=o.Vec3,l=o.v3},function(o){p=o.BaseComponent},function(o){h=o.ObstacleType,d=o.BombType},function(o){c=o.DIRECTIONS},function(o){u=o.eventTarget,_=o.RESET_GAME,B=o.CLEAR_TIME_BOMB,f=o.PLAY_BOMB_EXPLOSION,m=o.SUB_BRICK_WALL,y=o.PLAY_BRICK_BREAK}],execute:function(){var v;i._RF.push({},"27a5e0cAM1GNpSz8ZhuOrkH","Bomb",void 0);var x=s.ccclass;s.property,o("Bomb",x("Bomb")(v=function(o){function i(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=o.call.apply(o,[this].concat(i))||this).type=d.Bomb,e.isExploded=!1,e.boardPos=void 0,e.owner=void 0,e.power=1,e._animation=void 0,e._tranformEagles=void 0,e._explosiondirs=[],e._explosionPoints=[],e._timeExplosion=void 0,e._boardPosPoint=[],e}e(i,o);var s=i.prototype;return s.onLoad=function(){o.prototype.onLoad.call(this),this._animation=this.node.getComponent(n),this._tranformEagles=this.getComponentsInChildren(r).slice(2,6),u.on(_,this.reset,this),u.on(B,this.clearTimeBomb,this)},s.clearTimeBomb=function(){clearTimeout(this._timeExplosion)},s.reset=function(){clearTimeout(this._timeExplosion);var o=this._store.getCellByBoardPos(this.boardPos);o.type==h.Bomb&&o.setTypeWay(),this.node.parent=null},s.onEnable=function(){this.isExploded=!1},s.init=function(o,e){var t=this;this.boardPos=o.clone(),this.owner=e,this.power=e.power;var i=this._store.getCellByBoardPos(o);i.type=h.Bomb,this.node.setSiblingIndex(this._store.indexBombInBoard),this._animation.play(),this.setEagleExplosion(),this._timeExplosion=setTimeout((function(){i.setTypeWay(),e.addScore(10),u.emit(f),t.onExplosionToHero(),t.explosionToWall()}),1e3*this._store.explosionTimer)},s.onExplosionToHero=function(){for(var o,e=t(this._explosionPoints);!(o=e()).done;){for(var i,s=o.value,n=!1,r=t(this._store.heroes);!(i=r()).done;){var l=i.value;if(a.distance(s,l.node.position)<this._store.cellSize){l.onExplosion(),n=!0;break}}if(n)break}},s.setEagleExplosion=function(){var o=this;this._explosiondirs=[],this._explosionPoints=[],this._boardPosPoint=[];for(var e,i=t(c);!(e=i()).done;){for(var s=e.value,n=0;n<=2*this.power;n++){var r=this.boardPos.clone().add(s.clone().multiplyScalar(n)),a=this._store.getCellByBoardPos(r);if(a.type==h.BrickWall||a.type==h.StoneWall)break;this._explosionPoints.push(a.node.position),this._boardPosPoint.push(a.getBoardPos())}this._explosiondirs.push(n)}this._tranformEagles.forEach((function(e,t){return e.height=o._store.cellSize*o._explosiondirs[t]}))},s.explosionToWall=function(){this.isExploded=!0,this.node.parent=null;for(var o,e=t(c);!(o=e()).done;){var i=o.value,s=this.boardPos.clone().add(i.clone().multiplyScalar(2));if(!this._store.isOutSideBoard(s)){var n=this._store.getCellByBoardPos(s);n.type==h.BrickWall&&(n.setTypeBrickToWay(),u.emit(m),this.setWayNeighbor(n),u.emit(y))}}},s.setWayNeighbor=function(o){for(var e,i=o.getBoardPos(),s=i.x,n=i.y,r=t(c);!(e=r()).done;){var a=e.value,p=l(s+2*a.x,n+2*a.y);if(!this._store.isOutSideBoard(p))if(this._store.getCellByBoardPos(p).type==h.Way){var d=l(s+a.x,n+a.y);if(!this._store.isOutSideBoard(d)){var u=l(s+a.x,n+a.y);this._store.getCellByBoardPos(u).setTypeWay()}}}},i}(p))||v);i._RF.pop()}}}));

System.register("chunks:///_virtual/Cell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./BaseComponent.ts","./Collectable.ts","./BoardManager.ts","./Events.ts"],(function(t){var e,o,a,n,r,i,s,l,c,d,p,h,u,b,_,f,v,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,s=t._decorator,l=t.Prefab,c=t.Vec3,d=t.Sprite,p=t.v3,h=t.instantiate},function(t){u=t.ObstacleType},function(t){b=t.BaseComponent},function(t){_=t.Collectable},function(t){f=t.BoardManager},function(t){v=t.eventTarget,y=t.PLAY_COLLECTABLE}],execute:function(){var g,P,C,m,B;i._RF.push({},"039b2EdGb9PL4szjraNp+xs","Cell",void 0);var L=s.ccclass,x=s.property;t("Cell",(g=L("Cell"),P=x(l),g((B=e((m=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,a(e,"collectablePrefab",B,n(e)),e.type=u.Way,e._neighborIndex=[-1,0,1],e._boardPos=new c,e._avatar=void 0,e._boardManager=void 0,e}o(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this._avatar=this.node.getComponentInChildren(d),this._boardManager=this.node.parent.getComponent(f)},i.init=function(t){this._boardPos=t},i.getBoardPos=function(){return this._boardPos},i.setTypeWay=function(){this.type=u.Way,this._avatar.spriteFrame=null,this._avatar.node.scale=p(1,1)},i.setTypeBrickToWay=function(){this.type=u.Way,this._avatar.spriteFrame=null,this.initCollectable()},i.initCollectable=function(){var t,e=null==(t=this._store.collectablesPool.find((function(t){return t.isDeleted})))?void 0:t.node;e||(e=h(this.collectablePrefab),this._store.collectablesPool.push(e.getComponent(_)));var o=this._store.getCellByBoardPos(this._boardPos);e.position=o.node.position,e.parent=this.node.parent;var a=e.getComponent(_),n=this._boardManager.getTypeCollectable();v.emit(y),a.init(this._boardPos,n)},i.setAvatarObstacle=function(t,e){this.type=t,this._avatar.spriteFrame=e,this._avatar.node.scale=p(2,2);for(var o,a=r(this._neighborIndex);!(o=a()).done;)for(var n,i=o.value,s=r(this._neighborIndex);!(n=s()).done;){var l=n.value,c=p(this._boardPos.x+l,this._boardPos.y+i);if(!this._store.isOutSideBoard(c)){var d=p(this._boardPos.x+l,this._boardPos.y+i);this._store.getCellByBoardPos(d).type=t}}this.node.setSiblingIndex(-1)},e}(b)).prototype,"collectablePrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=m))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts","./BaseComponent.ts","./MoveBase.ts","./Utils.ts"],(function(e){var t,i,o,s,n,r,a,c,h,l,m,p,u,d,f,b,v,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized,n=e.createClass},function(e){r=e.cclegacy,a=e._decorator,c=e.Vec3,h=e.Color,l=e.tween},function(e){m=e.eventTarget,p=e.SET_SCORE,u=e.SET_ALL_INDEXS,d=e.SET_LIFE,f=e.SET_DIE_UI},function(e){b=e.BaseComponent},function(e){v=e.MoveBase},function(e){_=e.compare2Pos}],execute:function(){var S,B,w,D;r._RF.push({},"2c2d4BQmQxOV5QdSm6yKdwO","Character",void 0);var T=a.ccclass,y=a.property;e("Character",T("Character")((w=t((B=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"moveSpeed",w,s(t)),o(t,"timeSpawnBomb",D,s(t)),t._timeBombSpawn=void 0,t._boardPos=new c(1,25),t._timeSetDie=void 0,t._moveBase=void 0,t.isDie=!1,t.avatar=void 0,t.currentPos=new c,t.directionView=new c,t.totalBomb=1,t.maxTotalBomb=1,t.totalMine=0,t.power=1,t.life=1,t.score=0,t.speed=1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this._moveBase=this.getComponent(v)},r.addScore=function(e){this.score+=e,m.emit(p,this)},r.init=function(e,t){var i=this;clearInterval(this._timeBombSpawn),clearTimeout(this._timeSetDie),this._timeBombSpawn=setInterval((function(){i.totalBomb<i.maxTotalBomb&&i.totalBomb++}),1e3*this.timeSpawnBomb),this.life=e,this.power=1,this.maxTotalBomb=1,this.totalMine=0,this.speed=1,this.score=0,this.moveSpeed=4,this.isDie=!1,m.emit(u,this),this.node.setSiblingIndex(-1),this.boardPos=t,this.node.position=this._store.board[this.boardPos.x][this.boardPos.y].node.position,this.currentPos=this.node.position,this.avatar.color=h.WHITE,this.node.parent=this._store.boardNode,this._moveBase.reset()},r.onExplosion=function(){this.life--,this.life>=0&&m.emit(d,this),0!=this.life||this.isDie||(this.setDie(),m.emit(d,this))},r.checkMoveToMine=function(){var e=this;this._store.mineMap.forEach((function(t){_(t.boardPos,e._boardPos)&&!t.isExploded&&(t.explosion(),t.node.setSiblingIndex(-1),setTimeout((function(){t.explosionToWall()}),200),e.life--,m.emit(d,e)),0!=e.life||e.isDie||(e.setDie(),m.emit(d,e))}))},r.setDie=function(){var e=this;l(this.node).stop(),this._store.heroes=this._store.heroes.filter((function(t){return t!=e})),this.isDie=!0,m.emit(f,this),clearInterval(this._timeBombSpawn),this.avatar.color=h.BLACK,this._timeSetDie=setTimeout((function(){e.node.parent=null}),1e3)},n(t,[{key:"boardPos",get:function(){return this._boardPos},set:function(e){this._boardPos=e,this.checkMoveToMine()}}]),t}(b)).prototype,"moveSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),D=t(B.prototype,"timeSpawnBomb",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),S=B))||S);r._RF.pop()}}}));

System.register("chunks:///_virtual/CheckFreeWay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,s;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"04570z9IvdHW7NQA/1PQxYz","CheckFreeWay",void 0);t("CheckFreeWay",function(){function t(t){var i=this;this._rows=void 0,this._cols=void 0,this._startRow=0,this._startCol=0,this._isReachTop=!1,this._isReachRight=!1,this._visited=void 0,this._directions=void 0,this._matrixWall=void 0,this._matrixWall=t,this._rows=this._matrixWall.length,this._cols=this._matrixWall[0].length,this._visited=Array.from({length:this._rows},(function(){return Array(i._cols).fill(!1)})),this._directions=[[-1,0],[1,0],[0,-1],[0,1]]}var s=t.prototype;return s.excute=function(){this.dfs(this._startRow,this._startCol);var t=this.getLenghtMatrix(this._matrixWall,!1),i=this.getLenghtMatrix(this._visited,!0)==t;return this._isReachTop&&this._isReachRight&&i},s.getLenghtMatrix=function(t,i){return t.map((function(t){return t.filter((function(t){return t==i})).length})).reduce((function(t,i){return t+i}))},s.dfs=function(t,s){if(!(t<0||t>=this._rows||s<0||s>=this._cols||this._matrixWall[t][s]||this._visited[t][s])){this._visited[t][s]=!0,t===this._rows-1&&(this._isReachTop=!0),s===this._cols-1&&(this._isReachRight=!0);for(var e,r=i(this._directions);!(e=r()).done;){var h=e.value,o=h[0],n=h[1];this.dfs(t+o,s+n)}}},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Collectable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./BaseComponent.ts"],(function(e){var t,i,o,l,n,r,a,s,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.SpriteFrame,s=e.Sprite},function(e){c=e.CollectableType},function(e){p=e.BaseComponent}],execute:function(){var u,b,d,y,h,f,m;n._RF.push({},"668375QBSlP85+XjUn8DCJw","Collectable",void 0);var v=r.ccclass,C=r.property;e("Collectable",(u=v("Collectable"),b=C([a]),d=C(s),u((f=t((h=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"collectableSprites",f,l(t)),o(t,"body",m,l(t)),t.isDeleted=!1,t.type=c.None,t.boardPos=void 0,t}i(t,e);var n=t.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this)},n.init=function(e,t){this.isDeleted=!1,this.type=t,this.boardPos=e,this.type?this.body.spriteFrame=this.collectableSprites[this.type]:this.node.parent=null},n.setDeleted=function(){this.isDeleted=!0,this.node.parent=null},t}(p)).prototype,"collectableSprites",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(h.prototype,"body",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=h))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/CongratulationsScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUIComponent.ts","./Events.ts"],(function(t){var n,e,o,i,r,s,a,c,l,u,h,p,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,c=t.Button,l=t.EditBox},function(t){u=t.BaseUIComponent},function(t){h=t.eventTarget,p=t.SHOW_CONGRATULATIONS,C=t.SHOW_HOME}],execute:function(){var d,S,g,f,m;r._RF.push({},"a37095irZFFU4pGWMohsDtu","CongratulationsScreen",void 0);var v=s.ccclass,y=s.property;t("CongratulationsScreen",(d=v("CongratulationsScreen"),S=y(a),d((m=n((f=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,o(n,"totalScoreText",m,i(n)),n._editBox=void 0,n}e(n,t);var r=n.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),h.on(p,this.showScreen,this);var n=this.getComponentsInChildren(c),e=n[0],o=n[1];e.node.on(c.EventType.CLICK,this.onSubmitBtnClick,this),o.node.on(c.EventType.CLICK,this.onMoreGameClick,this),this._editBox=this.getComponentInChildren(l)},r.onSubmitBtnClick=function(){this.onHide(),console.log("name",this._editBox.string),h.emit(C)},r.onMoreGameClick=function(){this.onHide(),h.emit(C)},r.showScreen=function(t){this.totalScoreText.string=t.toString(),this.onShow()},n}(u)).prototype,"totalScoreText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/CONSTANTS.ts",["cc"],(function(e){var c,t;return{setters:[function(e){c=e.cclegacy,t=e.v3}],execute:function(){c._RF.push({},"be43dd3jK5LFZT9oY4w7eYc","CONSTANTS",void 0);var n=e("V3_UP",t(0,1)),r=e("V3_RIGHT",t(1,0)),u=e("V3_DOWN",t(0,-1)),T=e("V3_LEFT",t(-1,0));e("DIRECTIONS",[n,r,u,T]);c._RF.pop()}}}));

System.register("chunks:///_virtual/DataResources.ts",["cc","./Utils.ts"],(function(e){var t,a,n,r;return{setters:[function(e){t=e.cclegacy,a=e.resources,n=e.SpriteFrame},function(e){r=e.MapData}],execute:function(){t._RF.push({},"4086aah5RtIDKT5tr/DSH26","DataResources",void 0);e("DataResources",function(){function e(){this._mapData=[]}var t=e.prototype;return t.getResources=function(){var e=this;return new Promise((function(t,r){a.loadDir("end_atlas_gameplay",n,(function(a,n){if(a)return console.error("Lỗi khi tải SpriteFrame:",a),void r(a);e.classify(n),t(e._mapData)}))}))},t.classify=function(e){this.getData(e,"f","center"),this.getData(e,"a","mine"),this.getData(e,"e","factory"),this.getData(e,"d","disce"),this.getData(e,"c","snow"),this.getData(e,"b","beach")},t.getData=function(e,t,a){var n=e.filter((function(e){return e.name.includes("center_"+t)})).sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a.localeCompare(n)})),i=e.filter((function(e){return e.name.includes("tile_"+a)})).sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a.localeCompare(n)})),o=e.filter((function(e){return e.name.includes("brick_"+t)})).filter((function(e){return!a.includes("disce")||!["6","8","9"].includes(e.name.charAt(e.name.length-1))})).sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a.localeCompare(n)})),s=o.slice(o.length-3,o.length),c=o.slice(0,o.length-3),u=new r(s,c,n,i);return this._mapData.push(u),u},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DirectionalTouchControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts"],(function(t){var i,o,e,n,r,a,s,c,h,l,u,p,_,d,T,v,f,E,S,y,m,D,b,g,O,C,x;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Camera,c=t.UITransform,h=t.SpriteFrame,l=t.Color,u=t.input,p=t.Input,_=t.Sprite,d=t.v3,T=t.Component},function(t){v=t.MOVE_UP,f=t.MOVE_RIGHT,E=t.MOVE_DOWN,S=t.MOVE_LEFT,y=t.IDLE,m=t.eventTarget,D=t.SHOW_HOME,b=t.SHOW_LEVEL_SELECT,g=t.SHOW_CONGRATULATIONS,O=t.SHOW_GAMEOVER,C=t.RESET_GAME,x=t.PLACE_BOMB}],execute:function(){var L,P,B,H,I,w,M,U,A;r._RF.push({},"e598axi2/dBeaH/7m2h0I+n","DirectionalTouchControl",void 0);var N=a.ccclass,R=a.property;t("DirectionalTouchControl",(L=N("DirectionalTouchControl"),P=R(s),B=R(c),H=R([h]),L((M=i((w=function(t){function i(){for(var i,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(i,"camera",M,n(i)),e(i,"UITranform",U,n(i)),e(i,"spritesDirectional",A,n(i)),i._buttons=void 0,i._avatarDir=void 0,i._avatarSpace=void 0,i._directionalEvents=[v,f,E,S,y],i._directional=y,i._colorBlur=new l(255,255,255,150),i._colorPress=new l(255,255,255,200),i._isTouch=!1,i}o(i,t);var r=i.prototype;return r.onLoad=function(){u.on(p.EventType.TOUCH_MOVE,this.onTouchStart,this),u.on(p.EventType.TOUCH_START,this.onTouchStart,this),u.on(p.EventType.TOUCH_END,this.onTouchEnd,this),m.on(D,this.disableTouch,this),m.on(b,this.disableTouch,this),m.on(g,this.disableTouch,this),m.on(O,this.disableTouch,this),m.on(C,this.activeTouch,this);var t=this.getComponentsInChildren(_);this._avatarDir=t[t.length-2],this._avatarSpace=t[t.length-1],this._buttons=t.map((function(t){return t.getComponent(c)}))},r.disableTouch=function(){this._isTouch=!1},r.activeTouch=function(){this._isTouch=!0},r.onTouchStart=function(t){var i=t.getLocation(),o=this.convertScreenPosToNodePos(d(i.x,i.y));this.isSpaceBtn(o)?this._avatarSpace.color=this._colorPress:this.checkDirectionalBtn(o)},r.onTouchEnd=function(t){var i=t.getLocation(),o=this.convertScreenPosToNodePos(d(i.x,i.y));if(this.isSpaceBtn(o))return m.emit(x),void(this._avatarSpace.color=this._colorBlur);this._avatarDir.spriteFrame=this.spritesDirectional[this.spritesDirectional.length-1],this._directional=y,m.emit(this._directional)},r.convertScreenPosToNodePos=function(t){var i=this.camera.screenToWorld(t);return this.UITranform.convertToNodeSpaceAR(i)},r.isSpaceBtn=function(t){var i=this._buttons[this._buttons.length-1];return t.x<=i.node.position.x+i.width/2&&t.x>=i.node.position.x-i.width/2&&t.y<=i.node.position.y+i.height/2&&t.y>=i.node.position.y-i.height/2&&this._isTouch},r.checkDirectionalBtn=function(t){var i=this;this._buttons.slice(0,4).forEach((function(o,e){var n=t.x<=o.node.position.x+o.width/2&&t.x>=o.node.position.x-o.width/2&&t.y<=o.node.position.y+o.height/2&&t.y>=o.node.position.y-o.height/2,r=i._directional!=i._directionalEvents[e];n&&r&&(i._directional=i._directionalEvents[e],i._avatarDir.spriteFrame=i.spritesDirectional[e],m.emit(i._directional))}))},i}(T)).prototype,"camera",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(w.prototype,"UITranform",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(w.prototype,"spritesDirectional",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=w))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/DropdownButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts"],(function(t){var n,e,o,i,s,r,u,c,h,p,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Button,s=t.Label,r=t.Layout,u=t.Tween,c=t.Vec3,h=t.Component},function(t){p=t.eventTarget,a=t.Settings}],execute:function(){var l;e._RF.push({},"7cb2bO63vJA24pDUm4seZ2w","DropdownButton",void 0);var _=o.ccclass;o.property,t("DropdownButton",_("DropdownButton")(l=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._selectedLabel=void 0,n._menu=void 0,n._button=void 0,n._options=[],n._isOpen=!1,n}n(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;this._button=this.getComponentInChildren(i).node,this._selectedLabel=this._button.getComponentInChildren(s),this._menu=this.getComponentInChildren(r).node,this._button.on(i.EventType.CLICK,this.toggleDropdown,this),this._options=this._menu.getComponentsInChildren(i),this._options.forEach((function(n){return n.node.on(i.EventType.CLICK,t.selectOption,t)})),this._menu.active=!1},o.selectOption=function(t){var n=t.getComponentInChildren(s);this._selectedLabel.string=n.string;var e=t.node.getSiblingIndex();p.emit(a.SetArena,e),this.toggleDropdown()},o.toggleDropdown=function(){var t=this;this._menu&&(this._isOpen=!this._isOpen,this._isOpen?(this._menu.active=!0,u.stopAllByTarget(this._menu),new u(this._menu).to(.2,{scale:new c(1,1,1)}).start()):new u(this._menu).to(.2,{scale:new c(1,0,1)}).call((function(){t._menu.active=!1})).start())},e}(h))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Events.ts"],(function(t){var n,e,o,r,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.Character},function(t){i=t.eventTarget,c=t.SET_DIE_ENEMIES_TOTAL}],execute:function(){var s;e._RF.push({},"4589ci7hkpHTrk4T8ZFSsgn","Enemy",void 0);var a=o.ccclass;o.property,t("Enemy",a("Enemy")(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this)},o.init=function(n,e){t.prototype.init.call(this,n,e)},o.setDie=function(){t.prototype.setDie.call(this),i.emit(c)},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"62562Ai8uNCg7MN6he/TW6/","Enums",void 0);e("ObstacleType",function(e){return e[e.Way=0]="Way",e[e.BrickWall=1]="BrickWall",e[e.StoneWall=2]="StoneWall",e[e.Bomb=3]="Bomb",e}({})),e("CollectableType",function(e){return e[e.None=0]="None",e[e.Speed=1]="Speed",e[e.Bomb=2]="Bomb",e[e.Mine=3]="Mine",e[e.Power=4]="Power",e[e.Life=5]="Life",e}({})),e("BombType",function(e){return e[e.Bomb=0]="Bomb",e[e.Mine=1]="Mine",e}({})),e("MessageType",function(e){return e[e.Win=0]="Win",e[e.Lose=1]="Lose",e[e.TimeUp=2]="TimeUp",e}({})),e("EndGameScreenType",function(e){return e[e.Win=0]="Win",e[e.Lose=1]="Lose",e[e.EndLevel=2]="EndLevel",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["cc"],(function(E){var _,L;return{setters:[function(E){_=E.cclegacy,L=E.EventTarget}],execute:function(){_._RF.push({},"cd10b/7SmlOIqSUuKF4ZeOb","Events",void 0);E("eventTarget",new L),E("SET_LIFE","SET_LIFE"),E("SET_BOMB","SET_BOMB"),E("SET_POWER","SET_POWER"),E("SET_SPEED","SET_SPEED"),E("SET_SCORE","SET_SCORE"),E("SET_LEVEL","SET_LEVEL"),E("SET_CUURRENT_LEVEL","SET_CUURRENT_LEVEL"),E("CLEAR_TIME","CLEAR_TIME"),E("CLEAR_TIME_BOMB","CLEAR_TIME_BOMB"),E("SET_ALL_INDEXS","SET_ALL_INDEXS"),E("SET_DIE_UI","SET_DIE_UI"),E("SET_DIE_ENEMIES_TOTAL","SET_DIE_ENEMIES_TOTAL"),E("RESET_GAME","RESET_GAME"),E("SHOW_GAMEOVER","SHOW_GAMEOVER"),E("SHOW_HOME","SHOW_HOME"),E("SHOW_MESSAGE","SHOW_MESSAGE"),E("SHOW_LEVEL_SELECT","SHOW_LEVEL_SELECT"),E("LOADING_DONE","LOADING_DONE"),E("SHOW_CONGRATULATIONS","SHOW_CONGRATULATIONS"),E("PLAY_BOMB_EXPLOSION","PLAY_BOMB_EXPLOSION"),E("PLAY_PLACE_BOMB","PLAY_PLACE_BOMB"),E("PLAY_PLACE_MINE","PLAY_PLACE_MINE"),E("PLAY_MINE","PLAY_MINE"),E("PLAY_BRICK_BREAK","PLAY_BRICK_BREAK"),E("PLAY_COLLECTABLE","PLAY_COLLECTABLE"),E("PLAY_HIT_COLLECTABLE","PLAY_HIT_COLLECTABLE"),E("PLAY_BUBLE","PLAY_BUBLE"),E("PLAY_BG_SOUND","PLAY_BG_SOUND"),E("STOP_BG_SOUND","STOP_BG_SOUND"),E("PLAY_MENU_SOUND","PLAY_MENU_SOUND"),E("STOP_MENU_SOUND","STOP_MENU_SOUND"),E("TOGGLE_SOUND","TOGGLE_SOUND"),E("TOGGLE_MUSIC","TOGGLE_MUSIC"),E("MOVE_UP","MOVE_UP"),E("MOVE_RIGHT","MOVE_RIGHT"),E("MOVE_DOWN","MOVE_DOWN"),E("MOVE_LEFT","MOVE_LEFT"),E("IDLE","IDLE"),E("PLACE_BOMB","PLACE_BOMB"),E("SUB_BRICK_WALL","SUB_BRICK_WALL"),E("Settings",function(E){return E[E.None=1e3]="None",E[E.SetPlayer=1001]="SetPlayer",E[E.SetEnemies=1002]="SetEnemies",E[E.SetLevels=1003]="SetLevels",E[E.SetArena=1004]="SetArena",E[E.SetDifficulty=1005]="SetDifficulty",E}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/FullScreenHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,l,i,s,o,a,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,o=e.SpriteFrame,a=e.Button,u=e.Sprite,c=e.Component}],execute:function(){var p,F,m,d,h,b,S;i._RF.push({},"68447Me+JdPap+5eeFAzze4","FullScreenHandler",void 0);var f=s.ccclass,v=s.property;e("FullScreenHandler",(p=f("FullScreenHandler"),F=v(o),m=v(o),p((b=t((h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"enableSpriteFrame",b,l(t)),r(t,"disableSpriteFrame",S,l(t)),t._btn=void 0,t._avatar=void 0,t}n(t,e);var i=t.prototype;return i.onLoad=function(){this._btn=this.getComponentInChildren(a),this._avatar=this._btn.getComponent(u),this._btn.node.on(a.EventType.CLICK,this.setFullScreen,this)},i.setFullScreen=function(){this.isFullScreen()?(this._avatar.spriteFrame=this.disableSpriteFrame,this.enableFullScreen()):(this._avatar.spriteFrame=this.enableSpriteFrame,this.exitFullScreen())},i.isFullScreen=function(){return!document.fullscreenElement},i.enableFullScreen=function(){var e=document.getElementById("GameCanvas");e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():console.log("Fullscreen API is not supported in this browser."))},i.exitFullScreen=function(){document.fullscreenElement?document.exitFullscreen().catch((function(e){console.error("Error trying to exit fullscreen mode: "+e.message+" ("+e.name+")")})):console.log("Document is not in fullscreen mode.")},t}(c)).prototype,"enableSpriteFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(h.prototype,"disableSpriteFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUIComponent.ts","./Events.ts"],(function(t){var e,n,o,i,r,s,c,a,h,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Button,r=t.Label},function(t){s=t.BaseUIComponent},function(t){c=t.eventTarget,a=t.SHOW_GAMEOVER,h=t.RESET_GAME,l=t.SET_CUURRENT_LEVEL}],execute:function(){var u;n._RF.push({},"69943cNpjxOLKj5xa23cVdU","GameOverScreen",void 0);var v=o.ccclass;o.property,t("GameOverScreen",v("GameOverScreen")(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._button=void 0,e._label=void 0,e._scoreText=void 0,e._isGameOver=void 0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this._button=this.getComponentInChildren(i).node;var e=this.getComponentsInChildren(r),n=(e[0],e[1]),o=e[2];this._label=o,this._scoreText=n,this._button.on(i.EventType.CLICK,this.onBtnClick,this),c.on(a,this.onShow,this),this.onHide()},o.onBtnClick=function(){this.onHide(),c.emit(h),this._isGameOver||c.emit(l)},o.onShow=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=0),t.prototype.onShow.call(this),this._isGameOver=e,this._label.string=e?"RESET":"NEXT LEVEL",this._scoreText.string=n.toString()},n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HeroCard.ts","./BaseUIComponent.ts","./Events.ts","./Enums.ts"],(function(t){var e,i,n,o,r,s,a,l,c,h,m,u,_,p,T,f,v,C,E,d,g,y,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,l=t.Button,c=t.Animation,h=t.Layout,m=t.Tween,u=t.Color},function(t){_=t.HeroCard},function(t){p=t.BaseUIComponent},function(t){T=t.eventTarget,f=t.SET_LEVEL,v=t.RESET_GAME,C=t.CLEAR_TIME,E=t.SHOW_LEVEL_SELECT,d=t.CLEAR_TIME_BOMB,g=t.SHOW_MESSAGE,y=t.SHOW_GAMEOVER},function(t){L=t.MessageType}],execute:function(){var x,S,I,A,B,b,H;r._RF.push({},"07d30HftSdNWLOQ9FIBFAiL","GamePlayScreen",void 0);var M=s.ccclass,G=s.property;t("GamePlayScreen",(x=M("GamePlayScreen"),S=G(a),I=G(a),x((b=e((B=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"levelText",b,o(e)),n(e,"timeText",H,o(e)),e._heroCards=[],e._time=void 0,e._count=void 0,e._maxTime=180,e._animation=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){var e=this;t.prototype.onLoad.call(this),this.getComponentInChildren(l).node.on(l.EventType.CLICK,this.onBackClick,this),T.on(f,this.setLevelText,this),T.on(v,this.reset,this),T.on(C,this.clearTime,this),this._animation=this.getComponent(c);var i=this.getComponentInChildren(h);this._heroCards=i.getComponentsInChildren(_),this._heroCards.forEach((function(t,i){return t.setHero(e._store.heroes[i])})),this.timeText.string=this._maxTime.toString()},r.setLevelText=function(t,e){this.levelText.string=t+"/"+e},r.onBackClick=function(){m.stopAll(),T.emit(E)},r.reset=function(){var t=this;this._animation.stop(),clearInterval(this._time),this._count=this._maxTime,this.timeText.color=u.BLACK,this.timeText.string=this._count.toString(),this._time=setInterval((function(){t.setTimeText()}),1e3)},r.setTimeText=function(){this._count--,this._count<=10&&this._animation.play(),this.timeText.string=this._count.toString(),0==this._count&&(this._animation.stop(),this.clearTime(),m.stopAll(),T.emit(d),T.emit(g,L.TimeUp),setTimeout((function(){T.emit(y,!1)}),2e3))},r.clearTime=function(){clearInterval(this._time)},e}(p)).prototype,"levelText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(B.prototype,"timeText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUIComponent.ts","./Events.ts"],(function(t){var e,o,i,s,n,r,h,c,a,_,u,d,f,l,p,S;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,s=t.Sprite,n=t.Label,r=t.Color},function(t){h=t.BaseUIComponent},function(t){c=t.eventTarget,a=t.SET_BOMB,_=t.SET_LIFE,u=t.SET_SPEED,d=t.SET_SCORE,f=t.SET_POWER,l=t.SET_ALL_INDEXS,p=t.SET_DIE_UI,S=t.RESET_GAME}],execute:function(){var T;o._RF.push({},"c070762E4hKB4KP4RSUvgrJ","HeroCard",void 0);var v=i.ccclass;i.property,t("HeroCard",v("HeroCard")(T=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._dieMask=void 0,e._lifeText=void 0,e._bombText=void 0,e._powerText=void 0,e._speedText=void 0,e._scoreText=void 0,e._hero=void 0,e.COLOR_DISABLE=new r(255,255,255,80),e.COLOR_ACTIVE=new r(255,255,255,255),e}e(o,t);var i=o.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this._dieMask=this.getComponent(s);var e=this.node.getComponentsInChildren(n),o=e[0],i=e[1],r=e[2],h=e[3],T=e[4];this._lifeText=o,this._bombText=i,this._powerText=r,this._speedText=h,this._scoreText=T,c.on(a,this.setBomb,this),c.on(_,this.setLife,this),c.on(u,this.setSpeed,this),c.on(d,this.setScore,this),c.on(f,this.setPower,this),c.on(l,this.setAllIndexs,this),c.on(p,this.onDisableCard,this),c.on(S,this.reset,this)},i.reset=function(){this._dieMask.color=this.COLOR_DISABLE},i.onDisableCard=function(t){var e=this;this.checkHero(t,(function(){return e._dieMask.color=e.COLOR_DISABLE}))},i.setHero=function(t){this._hero=t},i.setBomb=function(t){var e=this;this.checkHero(t,(function(){return e._bombText.string=t.maxTotalBomb.toString()}))},i.setLife=function(t){var e=this;this.checkHero(t,(function(){return e._lifeText.string=t.life.toString()}))},i.setSpeed=function(t){var e=this;this.checkHero(t,(function(){return e._speedText.string=t.speed.toString()}))},i.setPower=function(t){var e=this;this.checkHero(t,(function(){return e._powerText.string=t.power.toString()}))},i.setScore=function(t){var e=this;this.checkHero(t,(function(){return e._scoreText.string=t.score.toString()}))},i.setAllIndexs=function(t){t==this._hero&&(this._dieMask.color=this.COLOR_ACTIVE,this.setBomb(t),this.setLife(t),this.setSpeed(t),this.setPower(t),this.setScore(t))},i.checkHero=function(t,e){t==this._hero&&e()},o}(h))||T);o._RF.pop()}}}));

System.register("chunks:///_virtual/HomeScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUIComponent.ts","./Events.ts"],(function(n){var t,e,o,i,s,c,r,u,a,h,l,p,d,S;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){s=n.cclegacy,c=n._decorator,r=n.Node,u=n.Button},function(n){a=n.BaseUIComponent},function(n){h=n.eventTarget,l=n.SHOW_HOME,p=n.SHOW_LEVEL_SELECT,d=n.TOGGLE_MUSIC,S=n.TOGGLE_SOUND}],execute:function(){var m,C,f,y,_,v,I;s._RF.push({},"62273kUPLtKfot1n1CAePE+","HomeScreen",void 0);var B=c.ccclass,L=c.property;n("HomeScreen",(m=B("HomeScreen"),C=L(r),f=L(r),m((v=t((_=function(n){function t(){for(var t,e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,o(t,"muteMusicIcon",v,i(t)),o(t,"muteSoundIcon",I,i(t)),t._isOnSound=!0,t._isOnMusic=!0,t}e(t,n);var s=t.prototype;return s.onLoad=function(){n.prototype.onLoad.call(this);var t=this.getComponentsInChildren(u),e=t[0],o=t[1],i=t[2],s=t[3],c=t[4],r=t[5];h.on(l,this.onShow,this),e.node.on(u.EventType.CLICK,this.onStartGameBtnClick,this),o.node.on(u.EventType.CLICK,this.onHowToPlayBtn,this),i.node.on(u.EventType.CLICK,this.onHightScoreBtn,this),s.node.on(u.EventType.CLICK,this.onMoreGameBtn,this),c.node.on(u.EventType.CLICK,this.onMusicBtn,this),r.node.on(u.EventType.CLICK,this.onSoundBtn,this),this.onHide()},s.onStartGameBtnClick=function(){h.emit(p),this.onHide()},s.onHowToPlayBtn=function(){},s.onHightScoreBtn=function(){},s.onMoreGameBtn=function(){},s.onMusicBtn=function(){this._isOnMusic=!this._isOnMusic,this.muteMusicIcon.active=!this._isOnMusic,h.emit(d,this._isOnMusic)},s.onSoundBtn=function(){this._isOnSound=!this._isOnSound,this.muteSoundIcon.active=!this._isOnSound,h.emit(S,this._isOnSound)},t}(a)).prototype,"muteMusicIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(_.prototype,"muteSoundIcon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/JoystickControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts","./CONSTANTS.ts"],(function(t){var o,n,i,e,r,c,a,s,h,l,u,T,p,d,v,f,_,E,g,b,y,M,m,O,S,A,C,k;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Camera,s=t.Node,h=t.input,l=t.Input,u=t.UITransform,T=t.v3,p=t.Vec3,d=t.tween,v=t.Component},function(t){f=t.MOVE_UP,_=t.MOVE_RIGHT,E=t.MOVE_DOWN,g=t.MOVE_LEFT,b=t.IDLE,y=t.eventTarget,M=t.SHOW_HOME,m=t.SHOW_LEVEL_SELECT,O=t.SHOW_CONGRATULATIONS,S=t.SHOW_GAMEOVER,A=t.RESET_GAME,C=t.PLACE_BOMB},function(t){k=t.DIRECTIONS}],execute:function(){var I,w,L,N,P,D,H,U,V;r._RF.push({},"d824ed5aZJAio0B3IwsoYUY","JoystickControl",void 0);var x=c.ccclass,R=c.property;t("JoystickControl",(I=x("JoystickControl"),w=R(a),L=R(s),N=R(s),I((H=o((D=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return o=t.call.apply(t,[this].concat(r))||this,i(o,"camera",H,e(o)),i(o,"background",U,e(o)),i(o,"control",V,e(o)),o._UITranform=void 0,o._directionalEvents=[f,_,E,g,b],o._directional=b,o._isTouch=!1,o}n(o,t);var r=o.prototype;return r.onLoad=function(){h.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),h.on(l.EventType.TOUCH_START,this.onTouchMove,this),h.on(l.EventType.TOUCH_END,this.onTouchEnd,this),y.on(M,this.disableTouch,this),y.on(m,this.disableTouch,this),y.on(O,this.disableTouch,this),y.on(S,this.disableTouch,this),y.on(A,this.activeTouch,this),this._UITranform=this.getComponent(u)},r.onTouchMove=function(t){if(this._isTouch){var o=t.getLocation(),n=this.convertScreenPosToNodePos(T(o.x,o.y));if(!(n.x>1e3)){n.z=0,this.control.position=n;var i=p.distance(this.background.position,this.control.position),e=this.background.position.clone().subtract(this.control.position);if(i>180){var r=n.clone().add(this.convertToMainDirection(e).multiplyScalar(180));this.background.position=r}i>50&&this.checkAngle(e)}}},r.convertToMainDirection=function(t){return Math.abs(t.x)>Math.abs(t.y)?t.x>0?new p(1,0):new p(-1,0):t.y>0?new p(0,1):new p(0,-1)},r.onTouchEnd=function(t){if(this._isTouch){var o=t.getLocation();this.convertScreenPosToNodePos(T(o.x,o.y)).x>1e3?y.emit(C):(this.control.position=T(0,0),this.background.position=T(0,0),this._directional=b,y.emit(this._directional),d(this.control).to(.3,{position:T(0,0)},{easing:"backOut"}).start())}},r.convertScreenPosToNodePos=function(t){var o=this.camera.screenToWorld(t);return this._UITranform.convertToNodeSpaceAR(o)},r.vec3ToAngle2D=function(t){return(Math.atan2(t.y,t.x)*(180/Math.PI)+360)%360},r.getAngleBetweenVec3=function(t,o){var n=p.dot(t,o)/(t.length()*o.length()),i=Math.max(-1,Math.min(1,n));return Math.acos(i)*(180/Math.PI)},r.disableTouch=function(){this._isTouch=!1},r.activeTouch=function(){this._isTouch=!0},r.checkAngle=function(t){var o=this;k.forEach((function(n,i){var e=o.getAngleBetweenVec3(n.clone().multiplyScalar(-1),t);if(Math.abs(e)<45){var r=o._directionalEvents[i];o._directional!=r&&(o._directional=r,y.emit(r))}else;}))},o}(v)).prototype,"camera",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=o(D.prototype,"background",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=o(D.prototype,"control",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=D))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelSelectScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUIComponent.ts","./Events.ts","./Utils.ts"],(function(e){var t,n,i,s,o,r,c,l,u,a,h;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,s=e.Button},function(e){o=e.BaseUIComponent},function(e){r=e.eventTarget,c=e.SHOW_LEVEL_SELECT,l=e.Settings,u=e.SHOW_HOME,a=e.RESET_GAME},function(e){h=e.SettingsData}],execute:function(){var f;n._RF.push({},"1d190IyIMVEZKnE66LpNJtl","LevelSelectScreen",void 0);var m=i.ccclass;i.property,e("LevelSelectScreen",m("LevelSelectScreen")(f=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this)._playerNumber=1,t._enemiesNumber=3,t._levelsNumber=5,t._arenaNumber=6,t._difficultyNumber=0,t}t(n,e);var i=n.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),r.on(c,this.onShow,this),r.on(l.SetPlayer,this.setPlayer,this),r.on(l.SetEnemies,this.setEnemies,this),r.on(l.SetLevels,this.setLevels,this),r.on(l.SetArena,this.setArena,this),r.on(l.SetDifficulty,this.setDifficulty,this);var t=this.getComponentsInChildren(s),n=t[0],i=t[1];n.node.on(s.EventType.CLICK,this.onBackBtnClick,this),i.node.on(s.EventType.CLICK,this.onOkBtn,this),this.onHide()},i.setPlayer=function(e){this._playerNumber=e+1},i.setEnemies=function(e){this._enemiesNumber=3-e},i.setLevels=function(e){this._levelsNumber=5*(e+1)},i.setArena=function(e){this._arenaNumber=e},i.setDifficulty=function(e){this._difficultyNumber=e},i.onBackBtnClick=function(){r.emit(u),this.onHide()},i.onOkBtn=function(){var e=new h(this._playerNumber,this._enemiesNumber,this._levelsNumber,this._arenaNumber,this._difficultyNumber);r.emit(a,e),this.onHide()},n}(o))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUIComponent.ts","./Events.ts"],(function(n){var o,t,e,i,r,c,s,a,u,l;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.Layout,r=n.Sprite,c=n.Color},function(n){s=n.BaseUIComponent},function(n){a=n.eventTarget,u=n.LOADING_DONE,l=n.SHOW_HOME}],execute:function(){var h;t._RF.push({},"5aba8uo3wRJbKYMoPwETPqu","LoadingScreen",void 0);var p=e.ccclass;e.property,n("LoadingScreen",p("LoadingScreen")(h=function(n){function t(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this)._icons=void 0,o._time=200,o}o(t,n);var e=t.prototype;return e.onLoad=function(){var o=this;n.prototype.onLoad.call(this);var t=this.getComponentInChildren(i);this._icons=t.getComponentsInChildren(r),a.on(u,this.setTimeLoading,this),this._icons.forEach((function(n,t){n.color=new c(255,255,255,0),setTimeout((function(){n.color=new c(255,255,255,255),t==o._icons.length-1&&(o.onHide(),a.emit(l))}),(t+1)*o._time)}))},e.setTimeLoading=function(){this._time=10},t}(s))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AudioManager.ts","./CONSTANTS.ts","./Enums.ts","./Events.ts","./FullScreenHandler.ts","./BaseComponent.ts","./BoardManager.ts","./Bomb.ts","./Cell.ts","./Character.ts","./CheckFreeWay.ts","./Collectable.ts","./DataResources.ts","./DirectionalTouchControl.ts","./Enemy.ts","./JoystickControl.ts","./Mine.ts","./MoveBase.ts","./MoveEnemy.ts","./MovePlayer.ts","./PlaceBombBase.ts","./PlaceBombEnemy.ts","./PlaceBombPlayer.ts","./Player.ts","./BaseUIComponent.ts","./CongratulationsScreen.ts","./DropdownButton.ts","./GameOverScreen.ts","./GamePlayScreen.ts","./HeroCard.ts","./HomeScreen.ts","./LevelSelectScreen.ts","./LoadingScreen.ts","./Message.ts","./RadioButton.ts","./Store.ts","./Utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Message.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts"],(function(e){var s,t,n,o,r,a,i;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,o=e.UITransform,r=e.Component},function(e){a=e.eventTarget,i=e.SHOW_MESSAGE}],execute:function(){var c;t._RF.push({},"b41276LSL1Op7w+pt2e6Vj7","Message",void 0);var u=n.ccclass;n.property,e("Message",u("Message")(c=function(e){function t(){for(var s,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(s=e.call.apply(e,[this].concat(n))||this)._messages=void 0,s}s(t,e);var n=t.prototype;return n.onLoad=function(){a.on(i,this.showMassage,this),this._messages=this.getComponentsInChildren(o).slice(1,4).map((function(e){return e.node})),this._messages.forEach((function(e){return e.active=!1})),this.showMassage(1)},n.showMassage=function(e){var s=this;this._messages.forEach((function(s,t){return s.active=e==t})),setTimeout((function(){s._messages.forEach((function(e){return e.active=!1}))}),2e3)},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Mine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bomb.ts","./Enums.ts"],(function(n){var o,t,i,e,s,a;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator},function(n){e=n.Bomb},function(n){s=n.BombType,a=n.ObstacleType}],execute:function(){var r;t._RF.push({},"276f6ZV9v5BlYonbA7LlJ1X","Mine",void 0);var c=i.ccclass;i.property,n("Mine",c("Mine")(r=function(n){function t(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this)._explosionAnimation=void 0,o}o(t,n);var i=t.prototype;return i.onLoad=function(){n.prototype.onLoad.call(this)},i.onEnable=function(){n.prototype.onEnable.call(this);var o=this._animation.clips,t=o[0],i=o[1];this._explosionAnimation=i,this._animation.play(t.name)},i.explosion=function(){this._animation.play(this._explosionAnimation.name)},i.init=function(n,o){this.type=s.Mine,this.boardPos=n.clone(),this.owner=o,this.power=1,this._store.board[n.x][n.y].type=a.Way,this.node.setSiblingIndex(this._store.indexBombInBoard)},t}(e))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/MoveBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./Character.ts","./Utils.ts","./Enums.ts","./Events.ts"],(function(t){var e,r,a,c,o,i,s,n,h,l,_,p,u,d,f;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,a=t._decorator,c=t.Sprite,o=t.Vec3},function(t){i=t.BaseComponent},function(t){s=t.Character},function(t){n=t.compare2Pos},function(t){h=t.CollectableType},function(t){l=t.eventTarget,_=t.PLAY_HIT_COLLECTABLE,p=t.SET_SPEED,u=t.SET_BOMB,d=t.SET_LIFE,f=t.SET_POWER}],execute:function(){r._RF.push({},"a152aPQlEBL4L2dE2gs7/Sh","MoveBase",void 0);a.ccclass,a.property,t("MoveBase",function(t){function r(){for(var e,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))||this)._isMoveContinuously=!1,e._moveDirections=[],e._isMove=!1,e._currentDir=o.RIGHT,e._character=void 0,e}e(r,t);var a=r.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),this._character=this.getComponent(s),this._character.avatar=this.node.getComponentInChildren(c)},a.reset=function(){},a.checkCollectableInCell=function(){var t=this,e=this._store.collectablesPool.find((function(e){return!e.isDeleted&&n(e.boardPos,t._character.boardPos)}));e&&(l.emit(_),this._character.addScore(100),e.type==h.Mine&&this._character.totalMine++,e.type==h.Speed&&this._character.speed<5&&(this._character.speed++,this._character.moveSpeed+=.3*(this._character.speed-1),l.emit(p,this._character)),e.type==h.Bomb&&this._character.maxTotalBomb<5&&(this._character.maxTotalBomb++,l.emit(u,this._character)),e.type==h.Life&&this._character.life<5&&(this._character.life++,l.emit(d,this._character)),e.type==h.Power&&this._character.power<5&&(this._character.power++,l.emit(f,this._character)),e.setDeleted())},r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/MoveEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CONSTANTS.ts","./Enums.ts","./Utils.ts","./MoveBase.ts","./PlaceBombBase.ts"],(function(e){var t,o,r,i,n,a,s,c,l,u,h,v,d,p;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,i=e._decorator,n=e.randomRangeInt,a=e.Vec3,s=e.v3,c=e.tween},function(e){l=e.DIRECTIONS},function(e){u=e.ObstacleType},function(e){h=e.compare2Pos,v=e.getOppositeDirection},function(e){d=e.MoveBase},function(e){p=e.PlaceBombBase}],execute:function(){var _;r._RF.push({},"24fe6znpRtCzZGd/iBjhy8N","MoveEnemy",void 0);var f=i.ccclass;i.property,e("MoveEnemy",f("MoveEnemy")(_=function(e){function r(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._placeBomb=void 0,t._player=void 0,t._isMoveToPlayer=!1,t.DISTANCE_PLACE_BOMB_TO_PLAYER=4,t._timeMoveToPlayer=void 0,t._timeIdle=void 0,t}t(r,e);var i=r.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this)},i.start=function(){this._placeBomb=this.getComponent(p),this._player=this._store.heroes[0]},i.reset=function(){var e=this;clearTimeout(this._timeMoveToPlayer),clearTimeout(this._timeIdle),this.autoMove(),this._timeMoveToPlayer=setTimeout((function(){e._isMoveToPlayer=!0}),3e4)},i.autoMove=function(){var e=this;if(!this._character.isDie){for(var t,r=[],i=!1,n=function(){var o=t.value,n=e.getSingleStepMove(o);if(e._store.isOutSideBoard(n))return 0;if(e._store.mineMap.find((function(t){return h(t.boardPos,n)&&t.owner==e._character&&!t.isExploded})))return 0;var a=e._store.getCellByBoardPos(n),s=e.getDoubleStepMove(o),c=e._store.getCellByBoardPos(s);if(a.type==u.Bomb||c.type==u.Bomb)return 0;a.type==u.BrickWall&&(i=!0),a.type==u.Way&&r.push(o)},a=o(l);!(t=a()).done;)n();var s=this.randomMoveByDirection(r);if(s)this.onMove(s),this.placeBomb(s,i);else{var c=this.getDuration();this._timeIdle=setTimeout((function(){e.autoMove()}),1e3*c)}}},i.randomMoveByDirection=function(e){return 1==e.length?e[0]:(e=this.moveToPlayer(e),(e=this.notMoveOppositeDir(e))[n(0,e.length)])},i.moveToPlayer=function(e){if(1==e.length)return e;var t=this.getDirToPlayer(),o=e.find((function(e){return h(e,v(t))}));return e.length>2&&o&&this._isMoveToPlayer&&(e=e.filter((function(e){return!h(e,v(t))}))),e},i.notMoveOppositeDir=function(e){if(1==e.length)return e;var t=v(this._currentDir);return e=e.filter((function(e){return!h(e,t)}))},i.placeBomb=function(e,t){return this._character.boardPos.x%2!=0&&this._character.boardPos.y%2!=0&&(!!this.isExitDirection(e)&&(a.distance(this._player.boardPos,this._character.boardPos)<this.DISTANCE_PLACE_BOMB_TO_PLAYER||t||n(0,6-this._character.totalBomb)<1&&this._isMoveToPlayer?this._placeBomb.placeBomb():void 0))},i.isExitDirection=function(e){for(var t,r=this.getDoubleStepMove(e),i=o(l);!(t=i()).done;){var n=t.value,a=r.clone().add(n.clone().multiplyScalar(2));if(!this._store.isOutSideBoard(a)){var s=this._store.getCellByBoardPos(a).type==u.Way,c=h(v(e),n);if(s&&!c)return!0}}return!1},i.onMove=function(e){var t=this,o=this.getDuration(),r=this.getSingleStepMove(e)||this._character.boardPos,i=this._store.getCellByBoardPos(r).node.position;this._character.directionView=e,this._character.avatar.node.scale=0!=e.x?s(e.x,1):a.ONE,c(this.node).to(o,{position:i}).call((function(){t._currentDir=e,t._character.boardPos=t.getSingleStepMove(e),t.checkCollectableInCell(),setTimeout((function(){t.autoMove()}),0)})).start()},i.getDuration=function(){return 1/this._character.moveSpeed},i.getDirToPlayer=function(){var e=this._player.boardPos.clone().subtract(this._character.boardPos),t=Math.abs(e.x)>=Math.abs(e.y)?e.y:e.x;return s(e.x-t,e.y-t).normalize()},i.getSingleStepMove=function(e){return this._character.boardPos.clone().add(e)},i.getDoubleStepMove=function(e){return this._character.boardPos.clone().add(e.clone().multiplyScalar(2))},r}(d))||_);r._RF.pop()}}}));

System.register("chunks:///_virtual/MovePlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./Utils.ts","./MoveBase.ts","./CONSTANTS.ts","./Events.ts"],(function(e){var t,i,o,n,s,r,c,a,h,l,v,u,_,p,d,f,D,y,M,m,E,S,b,P,g,K;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,c=e.Enum,a=e.input,h=e.Input,l=e.KeyCode,v=e.Vec3,u=e.tween,_=e.v3},function(e){p=e.ObstacleType},function(e){d=e.compare2Pos},function(e){f=e.MoveBase},function(e){D=e.V3_UP,y=e.V3_RIGHT,M=e.V3_DOWN,m=e.V3_LEFT},function(e){E=e.eventTarget,S=e.MOVE_UP,b=e.MOVE_RIGHT,P=e.MOVE_DOWN,g=e.MOVE_LEFT,K=e.IDLE}],execute:function(){var T,w,O,V,k;s._RF.push({},"bd3ffTH4LNG96AVAdaC4z9x","MovePlayer",void 0);var C=r.ccclass,Y=r.property,A=c({singleStep:1,doubleStep:2});e("MovePlayer",(T=C("MovePlayer"),w=Y({type:A}),T((k=t((V=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"modeStepMove",k,n(t)),t._prevPos=void 0,t._targetMove=void 0,t._tween=void 0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){var t=this;e.prototype.onLoad.call(this),E.on(S,(function(e){return t.setDirection(D)}),this),E.on(b,(function(e){return t.setDirection(y)}),this),E.on(P,(function(e){return t.setDirection(M)}),this),E.on(g,(function(e){return t.setDirection(m)}),this),E.on(K,(function(e){return t.clearAllDirection()}),this),a.on(h.EventType.KEY_DOWN,this.onKeyDown,this),a.on(h.EventType.KEY_UP,this.onKeyUp,this)},s.reset=function(){this._isMove=!1},s.onKeyDown=function(e){switch(e.keyCode){case l.KEY_W:this.setDirection(D);break;case l.KEY_D:this.setDirection(y);break;case l.KEY_S:this.setDirection(M);break;case l.KEY_A:this.setDirection(m)}},s.setDirection=function(e){if(!this._character.isDie){if(this._moveDirections.push(e.clone().multiplyScalar(this.modeStepMove)),this._isMove){if(v.distance(this.node.position,this._prevPos)>.7*this._store.cellSize)return;this._tween.stop()}this.moveStep()}},s.moveStep=function(){var e=this;if(this._isMove=!0,0!=this._moveDirections.length){var t=this.getDirectionEnd();if(this.isCanMove(t)){this._prevPos=this.node.position.clone();var i=this._character.boardPos.clone().add(t);this._targetMove=this._store.board[i.x][i.y].node.position;var o=this.modeStepMove/this._character.moveSpeed;this._tween=u(this.node).to(o,{position:this._targetMove}).call((function(){e._character.boardPos=e._character.boardPos.clone().add(t),e.checkCollectableInCell(),e._isMove&&e.moveStep()})).start()}else this._isMove=!1}else this._isMove=!1},s.isCanMove=function(e){var t=this._character.boardPos.clone().add(e);return!this._store.isOutSideBoard(t)&&this._store.board[t.x][t.y].type==p.Way},s.onKeyUp=function(e){switch(e.keyCode){case l.KEY_W:this.clearDirection(D);break;case l.KEY_S:this.clearDirection(M);break;case l.KEY_A:this.clearDirection(m);break;case l.KEY_D:this.clearDirection(y)}},s.clearDirection=function(e){var t=this;this._moveDirections=this._moveDirections.filter((function(i){return!d(e.clone().multiplyScalar(t.modeStepMove),i)})),this._isMoveContinuously=!1,this._isMove||this.moveStep()},s.clearAllDirection=function(){this._moveDirections=[]},s.getDirectionEnd=function(){var e=this._moveDirections[this._moveDirections.length-1];return this._character.directionView=e,this._character.avatar.node.scale=0!=e.x?_(e.x/this.modeStepMove,1):v.ONE,e},t}(f)).prototype,"modeStepMove",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.singleStep}}),O=V))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlaceBombBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./Bomb.ts","./Character.ts","./Mine.ts","./Enums.ts","./Events.ts"],(function(t){var e,i,n,o,r,a,s,c,l,u,b,h,p,m,f,d,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab,c=t.instantiate,l=t.v3},function(t){u=t.BaseComponent},function(t){b=t.Bomb},function(t){h=t.Character},function(t){p=t.Mine},function(t){m=t.BombType},function(t){f=t.eventTarget,d=t.PLAY_PLACE_MINE,B=t.PLAY_PLACE_BOMB}],execute:function(){var _,y,P,v,g;r._RF.push({},"33032jsHcVH4ZYdM5w6MbFI","PlaceBombBase",void 0);a.ccclass;var M=a.property;t("PlaceBombBase",(_=M({type:s}),y=M({type:s}),v=e((P=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"bombPrefab",v,o(e)),n(e,"minePrefab",g,o(e)),e._character=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this._character=this.node.getComponent(h)},r.placeBomb=function(){if(!this._character.isDie)if(this._character.totalMine>0){var t,e;this._character.totalMine--,f.emit(d),(e=null==(t=this._store.mineMap.find((function(t){return t.isExploded&&t.type==m.Mine})))?void 0:t.node)||(e=c(this.minePrefab),this._store.mineMap.push(e.getComponent(p))),this.setBomb(e)}else{var i,n;if(0==this._character.totalBomb)return;this._character.totalBomb--,f.emit(B),(n=null==(i=this._store.bombMap.find((function(t){return t.isExploded&&t.type==m.Bomb})))?void 0:i.node)||(n=c(this.bombPrefab),this._store.bombMap.push(n.getComponent(b))),this.setBomb(n)}},r.setBomb=function(t){this.node.setSiblingIndex(-1);var e=this._character.boardPos,i=this._character.directionView,n=e.clone().add(i),o=e.x%2==1&&e.y%2==1,r=n.x%2==1&&n.y%2==1;return o?this.initBomb(t,e):r?this.initBomb(t,n):this.initBomb(t,e.clone().add(l(i.y,i.x))),!0},r.initBomb=function(t,e){t.position=this._store.getCellByBoardPos(e).node.position,t.parent=this._store.boardNode;var i=t.getComponent(b),n=this.getComponent(h);i.init(e,n)},e}(u)).prototype,"bombPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(P.prototype,"minePrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlaceBombEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlaceBombBase.ts"],(function(e){var o,t,n,c;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){c=e.PlaceBombBase}],execute:function(){var r;t._RF.push({},"83841wXrJ5Bf4UcoR9xJYk4","PlaceBombEnemy",void 0);var a=n.ccclass;n.property,e("PlaceBombEnemy",a("PlaceBombEnemy")(r=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t}(c))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlaceBombPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlaceBombBase.ts","./Events.ts"],(function(e){var t,o,n,c,a,r,i,s,l,u;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,c=e.input,a=e.Input,r=e.KeyCode},function(e){i=e.PlaceBombBase},function(e){s=e.eventTarget,l=e.RESET_GAME,u=e.PLACE_BOMB}],execute:function(){var p;o._RF.push({},"3acb4CN7EZLiLCXBOvYbJOv","PlaceBombPlayer",void 0);var h=n.ccclass;n.property,e("PlaceBombPlayer",h("PlaceBombPlayer")(p=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))||this).placeBombTime=2,t}t(o,e);var n=o.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),s.on(l,this.reset,this),s.on(u,this.placeBomb,this)},n.reset=function(){c.on(a.EventType.KEY_UP,this.onKeyUp,this)},n.onKeyUp=function(e){this._character.isDie||e.keyCode==r.SPACE&&this.placeBomb()},o}(i))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Events.ts","./Enums.ts"],(function(t){var e,n,o,r,s,i,c,a,u,l,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Tween},function(t){s=t.Character},function(t){i=t.eventTarget,c=t.CLEAR_TIME,a=t.CLEAR_TIME_BOMB,u=t.SHOW_MESSAGE,l=t.SHOW_GAMEOVER},function(t){p=t.MessageType}],execute:function(){var f;n._RF.push({},"fc62aUtI/dAhJxFm0mjWT/B","Player",void 0);var y=o.ccclass;o.property,t("Player",y("Player")(f=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this)},o.setDie=function(){var e=this;t.prototype.setDie.call(this),i.emit(c),r.stopAll(),i.emit(a),i.emit(u,p.Lose),setTimeout((function(){i.emit(l,!0,e.score)}),2e3)},n}(s))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/RadioButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts"],(function(e){var t,n,o,i,r,a,l,c,s,u,g,d,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Enum,c=e.ToggleContainer,s=e.Toggle,u=e.Label,g=e.Color,d=e.Component},function(e){h=e.Settings,p=e.eventTarget}],execute:function(){var f,C,y,v,m;r._RF.push({},"b94e2yyGo9O7bPeTa0Zma+h","RadioButton",void 0);var E=a.ccclass,R=a.property;e("RadioButton",(f=E("RadioButton"),C=R({type:l(h)}),f((m=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"eventKey",m,i(t)),t._toggleContainer=null,t}n(t,e);var r=t.prototype;return r.onLoad=function(){var e=this;this._toggleContainer=this.getComponent(c),this._toggleContainer.toggleItems.forEach((function(t){t.node.on(s.EventType.TOGGLE,e.onRadioChange,e)})),this.selectRadioButton(0)},r.onRadioChange=function(e){e.node.getComponentInChildren(u).color=e.isChecked?g.BLUE:g.WHITE,e.isChecked&&p.emit(this.eventKey,e.node.getSiblingIndex())},r.selectRadioButton=function(e){this._toggleContainer.toggleItems.forEach((function(t,n){t.isChecked=n===e,t.node.getComponentInChildren(u).color=n===e?g.BLUE:g.WHITE}))},t}(d)).prototype,"eventKey",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Store.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"435faryQTtHAb4W3GWkljmv","Store",void 0),t("Store",function(){function t(){this.boardNode=null,this.board=void 0,this.rows=void 0,this.columns=void 0,this.cellSize=void 0,this.explosionTimer=void 0,this.bombMap=[],this.mineMap=[],this.collectablesPool=[],this.indexBombInBoard=2,this.totalMineCollectable=0,this.totalLifeCollectable=0,this.heroes=[],this.mapData=[]}t.getInstance=function(){return t._instance||(t._instance=new t),t._instance};var i=t.prototype;return i.isOutSideBoard=function(t){return t.y>this.rows-1||t.y<0||t.x>this.columns-1||t.x<0},i.getCellByBoardPos=function(t){return this.board[t.x][t.y]},t}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(i){var t,e;return{setters:[function(i){t=i.cclegacy,e=i.math}],execute:function(){t._RF.push({},"9c6bctjbOFHXam7ubmet03E","Utils",void 0);i("StepMovePoint",(function(i,t,e){this.endPoint=void 0,this.moveDirections=[],this.remainingDirection=[],this.endPoint=i,this.moveDirections.push(t),this.remainingDirection=e})),i("SettingsData",(function(i,t,e,s,n){this.playerNumber=void 0,this.enemiesNumber=void 0,this.levelsNumber=void 0,this.arenaNumber=void 0,this.difficultyNumber=void 0,this.playerNumber=i,this.enemiesNumber=t,this.levelsNumber=e,this.arenaNumber=s,this.difficultyNumber=n})),i("MapData",(function(i,t,e,s){this.stoneWall=void 0,this.brickWall=void 0,this.centerBoard=void 0,this.background=void 0,this.stoneWall=i,this.brickWall=t,this.centerBoard=e,this.background=s})),i("WallPositions",(function(i,t){this.stonePositions=void 0,this.wayPositions=void 0,this.stonePositions=i,this.wayPositions=t})),i("compare2Pos",(function(i,t){return i.x==t.x&&i.y==t.y})),i("vec3ToAngle",(function(i){var t=Math.atan2(i.y,i.x);return e.toDegree(t)+90})),i("getOppositeDirection",(function(i){return i.clone().multiplyScalar(-1)}));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});